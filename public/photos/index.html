<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="../favicon.ico" type="image/x-icon">

        <title>i take pictures</title>
        <link rel="stylesheet" href="../css/main.css">
        <link rel="stylesheet" href="../css/photos.css">
    </head>
    <body class="moving-gradient pbody">
        <div class="bar nav">
            <p class="text navitem"> Public photos. </p>
            <a class="text link" href="../"> -> go back. </a>
            <p class="text navitem"></p>
            <p id="see_more" class="text link normal_btn" onClick="see_more_btn()"> -> see more. </a>
            <!-- <p class="text navitem"></p> -->
            <!-- <form id="collection_form" class="nav_form"> -->
            <!--     <input type="text" id="collection_input" class="nav_input" placeholder="collection name" required autocomplete="off"spellcheck="false"> -->
            <!--     <input type="text" id="passkey_input" class="nav_input" placeholder="pass key" required autocomplete="off"spellcheck="false"> -->
            <!--     <button type="submit" class="link text btn">-> enter.</button> -->
            <!-- </form> -->
            <p class="text navitem"> / click the pictures for details </p>
        </div>

        <div id="overlay" class="hidden">
            <div id="overlay_grid">
                <p id="description_text" class="btn overlay_text"> [now viewing: public photos] </p>                
                <button id="close" class="btn overlay_btn overlay_text" onClick="hide_preview()"> [close] </button>
                <!-- <button id="save" class="btn overlay_btn" onClick="save_image()"> [save] </button> -->
                <div id="coll_form" class="form_overlay hidden">
                    <div id="collection_buttons" class="button_carousel">
                        <button id="other_button" class="coll_btn normal_btn"> <form id="other_coll"> <input value="other" id="other_btn"> </form> </button>
                    </div>
                    <br><br><br>
                    <p id="hint" class="overlay_text"> hint: select another collection </p>
                    <form id="collection_form" class="nav_form">
                    <!--     <input type="text" id="collection_input" class="nav_input" placeholder="collection name" required autocomplete="off"spellcheck="false"> -->
                        <input type="text" id="passkey_input" class="overlay_input" placeholder="pass key" autocomplete="off"spellcheck="false">
                    <!--     <button type="submit" class="link text btn">-> enter.</button> -->
                    </form>
                    <!-- <input type="text" id="passkey_input" class="overlay_input" placeholder="pass key" required autocomplete="off"spellcheck="false"> -->
                </div>

            </div>
        </div>

        <div class="gallery">
            <img src="./published/AUG03079.jpeg" class="picture", alt="bogor"></img>
            <img src="./published/hanging-prague-stars.jpeg" class="picture", alt="prague"></img>

            <img src="./published/EHW01291.jpeg" class="picture", alt="cluj-napoca"></img>
            <img src="./published/SUM01663.jpeg" class="picture", alt="kouremenos"></img>
            <img src="./published/SUM01497.jpeg" class="picture", alt="myrsini"></img>

            <img src="./published/SUM01380.jpeg" class="picture", alt="cluj-napoca"></img>
            <img src="./published/commuters_2.jpeg" class="picture", alt="bangkok"></img>
            <img src="./published/JKT06684.jpeg" class="picture", alt="taipei"></img>

            <img src="./published/IMG_6845.jpeg" class="picture", alt="prague"></img>
            <!-- <img src="./published/AUG02849.jpeg" class="picture", alt="lenteng agung"></img> -->
            <img src="./published/JKT03702.jpeg" class="picture", alt="jakarta"></img>
            <img src="./published/AUG03130.jpeg" class="picture", alt="universitas indonesia"></img>

            <img src="./published/AUG03065.jpeg" class="picture", alt="bogor"></img>
            <img src="./published/EHW01202.jpeg" class="picture", alt="dej"></img>

            <img src="./published/EHW01056.jpeg" class="picture", alt="budapest"></img>
            <img src="./published/IMG_1076.jpeg" class="picture", alt="concert (utrecht)"></img>

            <img src="./published/prague-river.jpeg" class="picture", alt="prague"></img>
            <img src="./published/EHW01277.jpeg" class="picture", alt="cluj-napoca"></img>

            <img src="./published/AUG03067.jpeg" class="picture", alt="bogor"></img>
            <img src="./published/SUM01448.jpeg" class="picture", alt="cluj-napoca"></img>

            <img src="./published/SUM01624.jpeg" class="picture", alt="kouremenos"></img>
            <img src="./published/EHW01206.jpeg" class="picture", alt="dej"></img>
            <img src="./published/JKT03693.jpeg" class="picture", alt="jakarta"></img>
            <!-- <img src="./published/AUG02876.jpeg" class="picture", alt="bogor"></img> -->

            <img src="./published/IMG_1519_2.jpeg" class="picture", alt="phan xi păng, việtnam"></img>
            <img src="./published/INS08423.jpeg" class="picture", alt="route 118, thailand"></img>
            <img src="./published/AUG03076.jpeg" class="picture", alt="bogor"></img>

            <img src="./published/SUM01802.jpeg" class="picture", alt="ierapetra"></img>
            <img src="./published/SUM01845.jpeg" class="picture", alt="chania cats"></img>

            <img src="./published/SUM01831.jpeg" class="picture", alt="chania"></img>
            <img src="./published/EHW01166.jpeg" class="picture", alt="budapest"></img>
            <img src="./published/AUG03033.jpeg" class="picture", alt="bogor botanical garden"></img>


            <img src="./published/IMG_1841.jpeg" class="picture", alt="sydney"></img>
            <img src="./published/JKT06538.jpeg" class="picture", alt="taipei"></img>
            <img src="./published/singapore_2.jpeg" class="picture", alt="singapore"></img>
            <img src="./published/hongkong.jpeg" class="picture", alt="hong kong"></img>
        </div>

        <div class="footer bar">
            <p class="text"> (c) 2025 Andreas Tsatsanis </p>
            <p class="text"> all rights reserved </p>
        </div>



        <script src="../js/photos.js"></script>

        <script> 

            // form for "see more"
            var next_collection = "";
            var other_collection = "test";
            
            let see_more_btn = function () {
                document.getElementById("description_text").innerText = "[now viewing: public photos]";
                document.getElementById("hint").innerText = "hint: select another collection";
                document.getElementById("coll_form").classList.remove("hidden");
                document.getElementById("overlay").classList.remove("hidden");
            }
            
            function Collection(name, display_name, hint, template) {
                this.name = name;
                this.display = display_name;
                this.hint = hint;
                this.template = template;
                this.btn = function () {
                    let btn = document.createElement("button");
                    btn.classList.add("coll_btn");
                    btn.classList.add("normal_btn");
                    btn.innerText = display_name;
                    btn.addEventListener('click', function () {
                        console.log(name);
                        document.getElementById("hint").innerText = "hint: " + hint;
                        document.getElementById("description_text").innerText = "[going into: " + display_name + "]"
                        document.getElementById("passkey_input").value = template;
                        next_collection = name;
                    });
                    // btn.col_obj = this;
                    return btn;
                }
            }
            
            document.getElementById('collection_form').addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent the default form submission
            
                const cname = next_collection;
                const cpass = document.getElementById('passkey_input').value.toLowerCase();
                if (cname == "") {
                    return;
                }
            
                // Redirect to the new URL with query parameters
                window.location.href = 
                    `./collection?n=${encodeURIComponent(cname)}&pk=${encodeURIComponent(cpass)}`;
            });

            document.getElementById('other_coll').addEventListener('submit', function(event) {
                event.preventDefault();

                document.getElementById('other_button').click();
            });

            
            let loadCollections = () => {
                let collections = [
                    new Collection("bogor", "bogor trip", "when did we go?", "DD/MM/YYYY"),
                    // new Collection("bandung", "bandung trip", "when did we go?", ""),
                    // new Collection("easter24", "easter 2024", "where?", ""),
                    // new Collection("easter25", "easter 2025", "where?", ""),
                    new Collection("gradparty", "graduation party", "who was the dj?", "___,_____")
                ];
            
                for (col in collections) {
                    let next_btn = collections[col].btn();
                    let list = document.getElementById("collection_buttons");
                    list.insertBefore(next_btn, list.children[0]);
                }
            }
    
            loadCollections();

            document.getElementById("other_button").addEventListener('click', function () {
                let name = document.getElementById("other_btn").value;
                document.getElementById("hint").innerText = "hope u know what you're doing";
                document.getElementById("description_text").innerText = "[going into: " + name + "]"
                next_collection = name;
            });
        </script>
    </body>
</html>
